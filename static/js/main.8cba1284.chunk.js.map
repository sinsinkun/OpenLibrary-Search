{"version":3,"sources":["components/redux.js","components/Page404.js","components/Navbar.js","components/Footer.js","components/Main/Search.js","components/Main/Results.js","components/Main/index.js","components/Instructions.js","App.js","index.js"],"names":["initialData","winX","window","innerWidth","winY","innerHeight","sortedResults","resultsPerPage","reducer","state","action","do","data","Error","StoreContext","createContext","StoreProvider","props","useReducer","dispatch","useEffect","handleResize","addEventListener","removeEventListener","Provider","value","children","useStoreContext","useContext","Page404","style","textAlign","marginTop","Navbar","useState","showSide","setShowSide","store","toggleSideNav","className","role","aria-level","exact","to","activeClassName","onClick","aria-expanded","Footer","Search","title","setTitle","sortA","setSortA","sortDate","setSortDate","searchMsg","useRef","compareAlpha","a","b","compareDate","first_publish_year","searchTitle","e","preventDefault","current","classList","remove","innerText","query","replace","fetch","then","r","json","catch","err","console","log","docs","sort","add","changeResultsPerPage","num","onSubmit","type","name","placeholder","aria-required","onChange","target","ref","id","checked","Object","keys","length","sortByAlpha","htmlFor","sortByDate","defaultChecked","Results","numResults","setNumResults","displayed","setDisplayed","pages","setPages","activePage","setActivePage","gotoPage","page","minEntry","maxEntry","scrollTo","top","behavior","slice","numFound","numPages","Math","ceil","map","result","i","class","cover_i","src","alt","height","author_name","href","seed","rel","output","push","renderPageSelect","Homepage","Instructions","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wPAEMA,EAAc,CAClBC,KAAKC,OAAOC,WACZC,KAAKF,OAAOG,YACZC,cAAc,GACdC,eAAe,IAGXC,EAAU,SAACC,EAAOC,GACtB,OAAQA,EAAOC,IACf,IAAK,SACH,OAAO,2BAAIF,GAAX,IAAkBR,KAAKC,OAAOC,WAAYC,KAAKF,OAAOG,cACxD,IAAK,cACH,OAAO,2BAAII,GAAX,IAAkBH,cAAcI,EAAOE,OACzC,IAAK,SACH,OAAO,2BAAIH,GAAX,IAAkBF,eAAeG,EAAOE,OAC1C,QACE,MAAM,IAAIC,MAAJ,+BAAkCH,EAAOC,OAI7CG,EAAeC,0BAEfC,EAAgB,SAASC,GAAO,IAAD,EACTC,qBAAYV,EAASR,GADZ,mBAC5BS,EAD4B,KACrBU,EADqB,KASnC,OANAC,qBAAU,WAER,SAASC,IAAiBF,EAAS,CAACR,GAAG,WAEvC,OADAT,OAAOoB,iBAAiB,SAAUD,GAC3B,kBAAMnB,OAAOqB,oBAAoB,SAAUF,OAGlD,cAACP,EAAaU,SAAd,CAAuBC,MAAO,CAAChB,EAAOU,GAAtC,SACGF,EAAMS,YAKPC,EAAkB,WAAY,OAAOC,qBAAWd,I,MC/BvCe,MATf,WACE,OACE,sBAAKC,MAAO,CAACC,UAAU,SAAUC,UAAU,QAA3C,UACE,gDACA,uFC8CSC,MA9Cf,WAAmB,IAAD,EAEgBC,oBAAS,GAFzB,mBAETC,EAFS,KAECC,EAFD,OAGAT,IAATU,EAHS,oBAKhB,SAASC,IACOF,GAAVD,GAIN,OACE,qCACA,gCACE,qBAAKI,UAAU,QAAQC,KAAK,UAAUC,aAAW,IAAjD,sCACA,qBAAKF,UAAU,WACdF,EAAMpC,KAAO,IACZ,qBAAIuC,KAAK,aAAT,UACE,6BACE,cAAC,IAAD,CAASE,OAAK,EAACC,GAAG,IAAIJ,UAAU,WAAWK,gBAAgB,SAA3D,oBAEF,6BACE,cAAC,IAAD,CAASF,OAAK,EAACC,GAAG,gBAAgBJ,UAAU,WAAWK,gBAAgB,SAAvE,+BAGJ,wBAAQC,QAASP,EAAeQ,kBAAeX,EAA/C,qBAIHE,EAAMpC,KAAO,IACd,qBAAKsC,UAAWJ,EAAW,UAAY,iBAAvC,SACE,qBAAIK,KAAK,aAAT,UACE,6BACE,cAAC,IAAD,CAASE,OAAK,EAACC,GAAG,IAAIJ,UAAU,WAAWK,gBAAgB,SACzDC,QAASP,EADX,oBAGF,6BACE,cAAC,IAAD,CAASI,OAAK,EAACC,GAAG,gBAAgBJ,UAAU,WAAWK,gBAAgB,SACrEC,QAASP,EADX,iCAKJ,OCnCSS,MAVf,WACE,OACE,mCACE,4DADF,WAGE,sBAAMR,UAAU,QAAhB,qC,yBCkHSS,MApHf,WAAmB,IAAD,EAEUrB,IAFV,mBAETU,EAFS,KAEFlB,EAFE,OAGUe,mBAAS,IAHnB,mBAGTe,EAHS,KAGFC,EAHE,OAIUhB,oBAAS,GAJnB,mBAITiB,EAJS,KAIFC,EAJE,OAKgBlB,oBAAS,GALzB,mBAKTmB,EALS,KAKCC,EALD,KAMVC,EAAYC,mBAElB,SAASC,EAAaC,EAAEC,GACtB,OAAID,EAAET,MAAQU,EAAEV,MAAc,EAC1BS,EAAET,MAAQU,EAAEV,OAAe,EACxB,EAGT,SAASW,EAAYF,EAAEC,GACrB,OAAID,EAAEG,mBAAqBF,EAAEE,mBAA2B,EACpDH,EAAEG,mBAAqBF,EAAEE,oBAA4B,EAClD,EAjBO,SAoBDC,EApBC,8EAoBhB,WAA2BC,GAA3B,iBAAAL,EAAA,yDACEK,EAAEC,iBACFT,EAAUU,QAAQC,UAAUC,OAAO,UACnCZ,EAAUU,QAAQG,UAAY,eAGhB,MADRC,EAAQpB,EAAMqB,QAAQ,IAAK,OACH,MAAVD,EANtB,uBAOId,EAAUU,QAAQG,UAAY,8BAPlC,0CAWqBG,MAAM,yCAAD,OAA0CF,EAA1C,YAA0DG,MAAK,SAAAC,GAAC,OAAIA,EAAEC,UAC3FC,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZrB,EAAUU,QAAQG,UAAY,kDAdpC,OAWQxD,EAXR,OAkBMuC,IACFI,EAAUU,QAAQG,UAAY,yBAC9BxD,EAAKmE,KAAKC,KAAKvB,IAGbJ,IACFE,EAAUU,QAAQG,UAAY,yBAC9BxD,EAAKmE,KAAKC,KAAKpB,IAGjBzC,EAAS,CAAER,GAAG,cAAeC,KAAKA,IAElC2C,EAAUU,QAAQG,UAAY,GAC9Bb,EAAUU,QAAQC,UAAUe,IAAI,UA/BlC,6CApBgB,sBA4EhB,SAASC,EAAqBC,GAC5BhE,EAAS,CAACR,GAAG,SAAUC,KAAKuE,IAG9B,OACE,sBAAK5C,UAAU,cAAc6C,SAAU,SAAArB,GAAC,OAAID,EAAYC,IAAxD,UACE,iCACE,sBAAKxB,UAAU,aAAf,UACE,uBAAO8C,KAAK,OAAOC,KAAK,SAASC,YAAY,oBAAoBC,gBAAc,OAC7E/D,MAAOwB,EAAOwC,SAAU,SAAA1B,GAAC,OAAIb,EAASa,EAAE2B,OAAOjE,UACjD,wBAAQoB,QAASiB,EAAjB,uBAEF,sBAAMvB,UAAU,mBAAmBoD,IAAKpC,IACxC,sBAAKhB,UAAU,eAAf,UACE,gCACE,uBAAO8C,KAAK,WAAWO,GAAG,iBAAiBC,QAAS1C,EAAOsC,SAAU,SAAA1B,GAAC,OArChF,SAAqBA,GACnB,IAAKZ,EAAO,CACV,IAAMvC,EAAOyB,EAAM/B,cACfwF,OAAOC,KAAKnF,GAAMoF,OAAS,IAC7BpF,EAAKmE,KAAKC,KAAKvB,GACftC,EAAS,CAAER,GAAG,cAAeC,KAAK,eAAIA,MAG1CwC,EAASW,EAAE2B,OAAOG,SA6BgEI,CAAYlC,MACtF,uBAAOmC,QAAQ,iBAAf,2CAHJ,OAME,gCACE,uBAAOb,KAAK,WAAWO,GAAG,gBAAgBC,QAASxC,EAAUoC,SAAU,SAAA1B,GAAC,OA/BlF,SAAoBA,GAClB,IAAKV,EAAU,CACb,IAAMzC,EAAOyB,EAAM/B,cACfwF,OAAOC,KAAKnF,GAAMoF,OAAS,IAC7BpF,EAAKmE,KAAKC,KAAKpB,GACfzC,EAAS,CAAER,GAAG,cAAeC,KAAK,eAAIA,MAG1C0C,EAAYS,EAAE2B,OAAOG,SAuB+DM,CAAWpC,MACvF,uBAAOmC,QAAQ,gBAAf,iDAIN,sBAAK3D,UAAU,eAAf,UACE,gEACA,uBAAO8C,KAAK,QAAQC,KAAK,iBAAiBM,GAAG,YAAYH,SAAU,kBAAMP,EAAqB,OAC9F,uBAAOgB,QAAQ,YAAf,gBAHF,OAKE,uBAAOb,KAAK,QAAQC,KAAK,iBAAiBM,GAAG,YAAYQ,gBAAc,EAACX,SAAU,kBAAMP,EAAqB,OAC7G,uBAAOgB,QAAQ,YAAf,gBANF,OAQE,uBAAOb,KAAK,QAAQC,KAAK,iBAAiBM,GAAG,YAAYH,SAAU,kBAAMP,EAAqB,OAC9F,uBAAOgB,QAAQ,YAAf,uBC7COG,MAjEf,WAAoB,IAAD,EAED1E,IAATU,EAFU,sBAGmBH,oBAAU,GAH7B,mBAGVoE,EAHU,KAGEC,EAHF,OAIiBrE,mBAAS,IAJ1B,mBAIVsE,EAJU,KAICC,EAJD,OAKSvE,oBAAU,GALnB,mBAKVwE,EALU,KAKHC,EALG,OAMmBzE,mBAAS,GAN5B,mBAMV0E,EANU,KAMEC,EANF,KAoBjB,SAASC,EAASC,GAChB,IAAMC,GAAYD,EAAK,GAAK1E,EAAM9B,eAC5B0G,EAAWD,EAAW3E,EAAM9B,eAClCL,OAAOgH,SAAS,CAACC,IAAI,EAAGC,SAAS,WACjCP,EAAcE,GACdN,EAAapE,EAAM/B,cAAcyE,KAAKsC,MAAML,EAAUC,IAYxD,OA7BA7F,qBAAU,WACR,GAAI0E,OAAOC,KAAK1D,EAAM/B,eAAe0F,OAAS,EAAG,CAC/CO,EAAclE,EAAM/B,cAAcgH,UAClC,IAAIC,EAAW,EACyBA,EAApClF,EAAM/B,cAAcgH,SAAW,IAAgBE,KAAKC,KAAKpF,EAAM/B,cAAcgH,SAASjF,EAAM9B,gBAChFiH,KAAKC,KAAK,IAAIpF,EAAM9B,gBACpCoG,EAASY,GACTV,EAAc,GACdJ,EAAapE,EAAM/B,cAAcyE,KAAKsC,MAAM,EAAEhF,EAAM9B,oBAErD,CAAC8B,EAAM/B,cAAe+B,EAAM9B,iBAoB7B,sBAAKgC,UAAU,oBAAf,WACmB,IAAhB+D,EAAoB,GACnB,sBAAK/D,UAAU,QAAf,gCAA2C+D,EAAa,IAAM,OAASA,KAEzE,qBAAK/D,UAAU,UAAUC,KAAK,SAA9B,SACGgE,EAAUkB,KAAI,SAACC,EAAQC,GAAT,OACb,sBAAKrF,UAAU,QAAf,UACE,sBAAMsF,MAAM,QAAZ,SAAqBF,EAAOG,QAC1B,qBAAKC,IAAG,6CAAwCJ,EAAOG,QAA/C,UACNE,IAAG,UAAKL,EAAO1E,MAAZ,UAA2BgF,OAAO,SACrC,yBAEJ,iCAAON,EAAO1E,MAAd,KAAsB,uBAAtB,OAAgC0E,EAAOO,aAAe,sBACtD,uBACA,8CAAiBP,EAAO9D,oBAAsB,4BAC9C,uBACA,mBAAGsE,KAAM,0BAA4BR,EAAOS,KAAK,GAAI1C,OAAO,SAAS2C,IAAI,aAAzE,6BAV0B,WAAaT,SAgBjC,IAAXlB,EAAe,GAAK,qBAAKnE,UAAU,QAAf,SAhCzB,WAEE,IADA,IAAI+F,EAAS,GADa,WAEjBV,GACHA,IAAMhB,EAAW,EAAG0B,EAAOC,KAAK,wBAAQhG,UAAU,SAASM,QAAS,kBAAMiE,EAASc,EAAE,IAArD,SAA0DA,EAAE,KAC3FU,EAAOC,KAAK,wBAAQ1F,QAAS,kBAAMiE,EAASc,EAAE,IAAlC,SAAuCA,EAAE,MAFnDA,EAAE,EAAGA,EAAElB,EAAOkB,IAAM,EAApBA,GAIT,OAAOU,EA0BwCE,S,MCjDpCC,MAVf,WAEE,OACE,qCACE,cAAC,EAAD,IACA,cAAC,EAAD,QC0BSC,MAnCf,WACE,OACE,sBAAKlG,KAAK,UAAV,UACE,uNAKA,+BACE,uCACA,4CACA,wCACA,mDAEF,iFAGA,+BACE,sEACA,yEACA,4GAEF,8CACA,+BACE,uEACA,+CACA,qDACA,kEACA,gEACA,gECGOmG,MAvBf,WACE,OACE,qBAAKpG,UAAU,MAAf,SACE,cAAC,EAAD,UACE,eAAC,IAAD,WAEE,cAAC,EAAD,IAEA,sBAAMA,UAAU,YAAYC,KAAK,OAAjC,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOE,OAAK,EAACkG,KAAK,IAAlB,SAAsB,cAAC,EAAD,MACtB,cAAC,IAAD,CAAOA,KAAK,gBAAZ,SAA4B,cAAC,EAAD,MAC5B,cAAC,IAAD,UAAO,cAAC,EAAD,WAIX,cAAC,EAAD,YCrBVC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.8cba1284.chunk.js","sourcesContent":["import { createContext, useReducer, useContext, useEffect } from \"react\";\r\n\r\nconst initialData = {\r\n  winX:window.innerWidth, \r\n  winY:window.innerHeight,\r\n  sortedResults:{},\r\n  resultsPerPage:20\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.do) {\r\n  case \"resize\":\r\n    return {...state, winX:window.innerWidth, winY:window.innerHeight};\r\n  case \"saveResults\":\r\n    return {...state, sortedResults:action.data};\r\n  case \"newRPP\":\r\n    return {...state, resultsPerPage:action.data};\r\n  default:\r\n    throw new Error(`Invalid action type: ${action.do}`);\r\n  }\r\n}\r\n\r\nconst StoreContext = createContext();\r\n\r\nconst StoreProvider = function(props){\r\n  const [state, dispatch] = useReducer( reducer, initialData );\r\n\r\n  useEffect(() => {\r\n    // add listeners for window resize\r\n    function handleResize() { dispatch({do:\"resize\"}) };\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  })\r\n  return (\r\n    <StoreContext.Provider value={[state, dispatch]}>\r\n      {props.children}\r\n    </StoreContext.Provider>\r\n  )\r\n}\r\n\r\nconst useStoreContext = function(){ return useContext(StoreContext) };\r\n\r\nexport { StoreProvider, useStoreContext }","function Page404() {\r\n  return(\r\n    <div style={{textAlign:\"center\", marginTop:\"6rem\"}}>\r\n      <h2>PAGE NOT FOUND</h2>\r\n      <p>The page you are looking for could not be found...</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Page404;","import { useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useStoreContext } from './redux';\r\n\r\nfunction Navbar() {\r\n\r\n  const [showSide, setShowSide] = useState(false);\r\n  const [store] = useStoreContext();\r\n\r\n  function toggleSideNav() {\r\n    if (showSide) setShowSide(false);\r\n    else setShowSide(true);\r\n  }\r\n\r\n  return(\r\n    <>\r\n    <nav>\r\n      <div className=\"title\" role=\"heading\" aria-level=\"1\">Open Library Search Tool</div>\r\n      <div className=\"spacer\"></div>\r\n      {store.winX > 780 ? \r\n        <ul role=\"navigation\">\r\n          <li>\r\n            <NavLink exact to=\"/\" className=\"nav-link\" activeClassName=\"active\">Main</NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink exact to=\"/instructions\" className=\"nav-link\" activeClassName=\"active\">Instructions</NavLink>\r\n          </li>\r\n        </ul> : \r\n        <button onClick={toggleSideNav} aria-expanded={showSide ? true : false}>Menu</button>\r\n      }\r\n    </nav>\r\n    {/* Sidebar navigation */}\r\n    {store.winX < 780 ?\r\n    <div className={showSide ? \"sidenav\" : \"sidenav hidden\"}>\r\n      <ul role=\"navigation\">\r\n        <li>\r\n          <NavLink exact to=\"/\" className=\"nav-link\" activeClassName=\"active\" \r\n            onClick={toggleSideNav}>Main</NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink exact to=\"/instructions\" className=\"nav-link\" activeClassName=\"active\" \r\n            onClick={toggleSideNav}>Instructions</NavLink>\r\n        </li>\r\n      </ul>\r\n    </div> \r\n    : \"\"}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Navbar;","function Footer() {\r\n  return(\r\n    <footer>\r\n      <span>Open Library Search Tool</span>\r\n      &nbsp;&nbsp;\r\n      <span className=\"muted\">JingChang Xiao 2021</span>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","import { useRef, useState } from \"react\";\r\nimport { useStoreContext } from '../redux';\r\n\r\nfunction Search() {\r\n\r\n  const [store, dispatch] = useStoreContext();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [sortA, setSortA] = useState(false);\r\n  const [sortDate, setSortDate] = useState(false);\r\n  const searchMsg = useRef();\r\n\r\n  function compareAlpha(a,b) {\r\n    if (a.title > b.title) return 1;\r\n    if (a.title < b.title) return -1;\r\n    return 0;\r\n  }\r\n\r\n  function compareDate(a,b) {\r\n    if (a.first_publish_year < b.first_publish_year) return 1;\r\n    if (a.first_publish_year > b.first_publish_year) return -1;\r\n    return 0;\r\n  }\r\n\r\n  async function searchTitle(e) {\r\n    e.preventDefault();\r\n    searchMsg.current.classList.remove(\"hidden\");\r\n    searchMsg.current.innerText = \"Searching...\";\r\n    // convert spaces to +\r\n    const query = title.replace(\" \", \"+\");\r\n    if (query === \"\" || query === \"+\") {\r\n      searchMsg.current.innerText = \"Please enter a search term.\";\r\n      return;\r\n    }\r\n    // fetch data\r\n    const data = await fetch(`https://openlibrary.org/search.json?q=${query}&page=1`).then(r => r.json())\r\n      .catch(err => {\r\n        console.log(err);\r\n        searchMsg.current.innerText = \"Error: Something went wrong with your search\";\r\n        return;\r\n      });\r\n    // sort data alphabetically\r\n    if (sortA) {\r\n      searchMsg.current.innerText = \"Sorting the results...\";\r\n      data.docs.sort(compareAlpha);\r\n    }\r\n    // sort data by publish date\r\n    if (sortDate) {\r\n      searchMsg.current.innerText = \"Sorting the results...\";\r\n      data.docs.sort(compareDate);\r\n    }\r\n    // save data to global store\r\n    dispatch({ do:\"saveResults\", data:data });\r\n    //clean up\r\n    searchMsg.current.innerText = \"\";\r\n    searchMsg.current.classList.add(\"hidden\");\r\n  }\r\n\r\n  function sortByAlpha(e) {\r\n    if (!sortA) {\r\n      const data = store.sortedResults;\r\n      if (Object.keys(data).length > 0) {\r\n        data.docs.sort(compareAlpha);\r\n        dispatch({ do:\"saveResults\", data:{...data} });\r\n      }\r\n    }\r\n    setSortA(e.target.checked);\r\n  }\r\n\r\n  function sortByDate(e) {\r\n    if (!sortDate) {\r\n      const data = store.sortedResults;\r\n      if (Object.keys(data).length > 0) {\r\n        data.docs.sort(compareDate);\r\n        dispatch({ do:\"saveResults\", data:{...data} });\r\n      }\r\n    }\r\n    setSortDate(e.target.checked);\r\n  }\r\n\r\n  function changeResultsPerPage(num) {\r\n    dispatch({do:\"newRPP\", data:num});\r\n  }\r\n\r\n  return(\r\n    <div className=\"search-area\" onSubmit={e => searchTitle(e)}>\r\n      <form>\r\n        <div className=\"search-bar\">\r\n          <input type=\"text\" name=\"search\" placeholder=\"Search for a book\" aria-required=\"true\"\r\n            value={title} onChange={e => setTitle(e.target.value)} />\r\n          <button onClick={searchTitle}>Search</button>\r\n        </div>\r\n        <span className=\"error-msg hidden\" ref={searchMsg}></span>\r\n        <div className=\"sort-options\">\r\n          <div>\r\n            <input type=\"checkbox\" id=\"sortByAlphabet\" checked={sortA} onChange={e => sortByAlpha(e)} />\r\n            <label htmlFor=\"sortByAlphabet\">Sort by alphabetical order</label>\r\n          </div>\r\n          &nbsp;\r\n          <div>\r\n            <input type=\"checkbox\" id=\"sortByPublish\" checked={sortDate} onChange={e => sortByDate(e)} />\r\n            <label htmlFor=\"sortByPublish\">Sort by date of publishing</label>\r\n          </div>\r\n        </div>\r\n      </form>\r\n      <div className=\"page-options\">\r\n        <span>Number of results per page: </span>\r\n        <input type=\"radio\" name=\"resultsPerPage\" id=\"display10\" onChange={() => changeResultsPerPage(10)} />\r\n        <label htmlFor=\"display10\">10</label>\r\n        &nbsp;\r\n        <input type=\"radio\" name=\"resultsPerPage\" id=\"display20\" defaultChecked onChange={() => changeResultsPerPage(20)} />\r\n        <label htmlFor=\"display20\">20</label>\r\n        &nbsp;\r\n        <input type=\"radio\" name=\"resultsPerPage\" id=\"display50\" onChange={() => changeResultsPerPage(50)} />\r\n        <label htmlFor=\"display50\">50</label>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Search;","import { useState, useEffect } from 'react';\r\nimport { useStoreContext } from '../redux';\r\n\r\nfunction Results() {\r\n\r\n  const [store] = useStoreContext();\r\n  const [numResults, setNumResults] = useState(-1);\r\n  const [displayed, setDisplayed] = useState([]);\r\n  const [pages, setPages] = useState(-1);\r\n  const [activePage, setActivePage] = useState(1);\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(store.sortedResults).length > 0) {\r\n      setNumResults(store.sortedResults.numFound);\r\n      let numPages = 1;\r\n      if (store.sortedResults.numFound < 100) numPages = Math.ceil(store.sortedResults.numFound/store.resultsPerPage);\r\n      else numPages = Math.ceil(100/store.resultsPerPage);\r\n      setPages(numPages);\r\n      setActivePage(1);\r\n      setDisplayed(store.sortedResults.docs.slice(0,store.resultsPerPage));\r\n    }\r\n  }, [store.sortedResults, store.resultsPerPage])\r\n\r\n  function gotoPage(page) {\r\n    const minEntry = (page-1) * store.resultsPerPage;\r\n    const maxEntry = minEntry + store.resultsPerPage;\r\n    window.scrollTo({top:0, behavior:\"smooth\"});\r\n    setActivePage(page);\r\n    setDisplayed(store.sortedResults.docs.slice(minEntry, maxEntry));\r\n  }\r\n\r\n  function renderPageSelect() {\r\n    let output = [];\r\n    for (let i=0; i<pages; i++) {\r\n      if (i === activePage-1) output.push(<button className=\"active\" onClick={() => gotoPage(i+1)}>{i+1}</button>)\r\n      else output.push(<button onClick={() => gotoPage(i+1)}>{i+1}</button>)\r\n    }\r\n    return output;\r\n  }\r\n\r\n  return(\r\n    <div className=\"results-container\">\r\n      {numResults === -1 ? \"\" : \r\n        <div className=\"count\">Number of results: {numResults > 100 ? \"100+\" : numResults}</div>\r\n      }\r\n      <div className=\"results\" role=\"region\">\r\n        {displayed.map((result, i) =>\r\n          <div className=\"entry\" key={\"display-\" + i}>\r\n            <span class=\"cover\">{result.cover_i ? \r\n              <img src={`http://covers.openlibrary.org/b/id/${result.cover_i}-M.jpg`} \r\n                alt={`${result.title} cover`} height=\"100%\" />\r\n              : \"(No cover available)\"\r\n            }</span>\r\n            <span>{result.title}, <br/> by {result.author_name || \"(Author unknown)\"}</span>\r\n            <br/>\r\n            <span>Published {result.first_publish_year || \"(Publish date unknown)\"}</span>\r\n            <br/>\r\n            <a href={\"https://openlibrary.org\" + result.seed[0]} target=\"_blank\" rel=\"noreferrer\">\r\n              Link to entry\r\n            </a>\r\n          </div>\r\n        )}\r\n      </div>\r\n      {pages === -1 ? \"\" : <div className=\"pages\">{renderPageSelect()}</div> }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Results;","import Search from \"./Search\";\r\nimport Results from './Results';\r\nimport './main.css';\r\n\r\nfunction Homepage() {\r\n\r\n  return(\r\n    <>\r\n      <Search />\r\n      <Results />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Homepage;","function Instructions() {\r\n  return(\r\n    <div role=\"article\">\r\n      <p>\r\n        The task is to create an application that accepts a title as a parameter. \r\n        The application should then return book results, and for each book should\r\n        display the following information:\r\n      </p>\r\n      <ul>\r\n        <li>Title</li>\r\n        <li>Book Cover</li>\r\n        <li>Author</li>\r\n        <li>Published Date</li>\r\n      </ul>\r\n      <p>\r\n        The application should also have the ability to:\r\n      </p>\r\n      <ul>\r\n        <li>Sort results alphabetically by title</li>\r\n        <li>Sort results by more recently published</li>\r\n        <li>Any other functionality you feel will make this app a better experience</li>\r\n      </ul>\r\n      <p>Requirements:</p>\r\n      <ul>\r\n        <li>Code should compile and run in 1 step</li>\r\n        <li>No UI Library</li>\r\n        <li>Follows WCAG 2.0 AA</li>\r\n        <li>Perform well in lighthouse audit</li>\r\n        <li>Host on heroku/firebase/github</li>\r\n        <li>Technical questions .md</li>\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Instructions;","import { HashRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport { StoreProvider } from './components/redux';\r\nimport './App.css';import './App.css';\r\nimport Page404 from './components/Page404';\r\nimport Navbar from './components/Navbar';\r\nimport Footer from './components/Footer';\r\nimport Homepage from './components/Main';\r\nimport Instructions from './components/Instructions';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <StoreProvider>\r\n        <Router>\r\n          {/* Navbar */}\r\n          <Navbar />\r\n          {/* Main body */}\r\n          <main className=\"main-body\" role=\"main\">\r\n            <Switch>\r\n              <Route exact path=\"/\"><Homepage /></Route>\r\n              <Route path=\"/instructions\"><Instructions /></Route>\r\n              <Route><Page404 /></Route>\r\n            </Switch>\r\n          </main>\r\n          {/* Footer */}\r\n          <Footer />\r\n        </Router>\r\n      </StoreProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}